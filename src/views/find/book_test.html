<!DOCTYPE html>
<html>

<head>
    <title>책잡이</title>

    <link rel="stylesheet" href="..\..\..\public\css\base_css\reset.css">
    <link rel="stylesheet" href="..\..\..\public\css\base_css\header.css">
    <link rel="stylesheet" href="..\..\..\public\css\base_css\footer.css">
    <link rel="stylesheet" href="..\..\..\public\css\find_css\book_test.css">
    <link rel="stylesheet" href="..\..\..\public\fonts\font.css">

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="..\..\js\includeHtml.js"></script>
    <script type="text/javascript" src="..\..\js\completed.js"></script>
    <script>
        let cnt = -1;
        let temp = 0;

        let question = ['책을 훑어볼 때', '책 좀 읽어볼까?', '시험 망했네..', '갑자기 친구가 울면',
            '영화 뭐 볼까?', '그토록 기다리던 휴일날이네', '물건을 살 때, 중요한 게 생각하는 건?', '만화를 볼 때 중요한 건?', '비슷한 초코과자가 있네',
            '평소 좋아하는 감독님의 새로운 영화가 개봉했다.<br> 근데 내가 싫어하는 장르네?', '오랜만에 청소 좀 해볼까, 뭐 부터 치우지?',
            '드라마 시청 중에 말도 안 되는 막장 전개가 이어질 때', '친구들이랑 하루종일 놀고 집에 도착했다',
            '친구와 같이 길을 걸어가다가, <br> 갑자기 친구가 넘어졌다', '용돈을 받았다', '나는 평소에', '모르는 문제가 생겼네',
            '심혈을 기울여서 쓰는 부분은?', '나에게 좋은 사람은', '오늘 저녁 뭐 먹지'];


        $(function () {
            $('.startbtn').on('click', function () {
                $(".startbtn").remove(".startbtn");
                $(".test-img").css('display', 'none');
                $(".test-img2").css('display', 'block');
                $(".editbtn").css('display', 'block');
                $(".startQuestion").css('display', 'none');
                $(".progressBar").css('display', 'block');
                $(".question").css('display', 'block');


                cnt++;
                console.log('index:' + cnt);
                temp = cnt;
                $(`.options${cnt}`).css('display', 'block');

                console.log("첫 .options temp >>" + temp);
                console.log("첫 .options cnt >>" + cnt);

                $(".question").html(question[cnt]);


                // //각 op 선택 될 때마다 페이지 전환
                $(".option1").click(function () {
                    if (cnt < 19) {
                        cnt++;
                        $(".bar").css('width', 5 * cnt + '%');
                        console.log('index:' + cnt);
                        temp = cnt - 1;
                        $(`.options${temp}`).css('display', 'none');
                        console.log(".options temp >>" + temp);
                        $(`.options${cnt}`).css('display', 'block');
                        console.log(".options cnt >>" + cnt);

                        $(".question").html(question[cnt]);
                    }
                    else if (cnt > 18) {
                        alert('마지막 문항입니다.');
                        console.log('마지막... index:' + cnt);
                    }
                })


                $(".option2").click(function () {
                    if (cnt < 19) {
                        cnt++;
                        $(".bar").css('width', 5 * cnt + '%');
                        console.log('index:' + cnt);
                        temp = cnt - 1;
                        $(`.options${temp}`).css('display', 'none');
                        console.log(".options temp >>" + temp);
                        $(`.options${cnt}`).css('display', 'block');
                        console.log(".options cnt >>" + cnt);

                        $(".question").html(question[cnt]);
                    }
                    else if (cnt > 18) {
                        alert('마지막 문항입니다.');
                        console.log('마지막... index:' + cnt);
                    }
                })
            })

            $('.arrow_right').on('click', function () {
                $(".bar").css('width', 5 * cnt + '%');
                if (!($(`input:radio[name=op${cnt}]`).is(':checked'))) {
                    alert('문항을 선택해주세요.');
                    console.log('cnt >>' + $(`input:radio[name=op${cnt}]`).is(':checked'));
                    console.log(`input:radio[name=op${cnt}]`);
                }

                else if (cnt < 19) {
                    cnt++;

                    console.log('index:' + cnt);
                    temp = cnt - 1;
                    $(`.options${temp}`).css('display', 'none');
                    console.log(".options temp >>" + temp);
                    $(`.options${cnt}`).css('display', 'block');
                    console.log(".options cnt >>" + cnt);

                    $(".question").html(question[cnt]);
                }

                else if (cnt > 18) {
                    alert('마지막 문항입니다.');
                    console.log('마지막... index:' + cnt);
                }

            })

            $(".arrow_left").on('click', function () {
                $(".bar").css('width', 5 / cnt + '%');
                if (cnt > 0) {
                    cnt--;
                    console.log('index: ' + cnt);
                    temp = cnt + 1;

                    $(`.options${temp}`).css('display', 'none');
                    console.log("back .options temp >>" + temp);

                    $(`.options${cnt}`).css('display', 'block');
                    console.log("back .options cnt >>" + cnt);
                    $(".question").html(question[cnt]);

                }
                else if (cnt < 0) {
                    $('.menubar').css('height', '200px').css('box-shadow', 'none');
                    alert('첫번째 전은 없습니다.');
                    console.log('마지막..index:' + cnt);
                }
            });

            //             $(document).ready(function(){
            // 	$("input[name='searchRadioOptions']:radio").change(function () {
            // 		var searchType = $(this).val();
            // 		//console.log(searchType);
            // 		$('#searchType').val(searchType);
            // 		$('#questionlistfrm').attr('action', 'ad_question.do');
            // 		$('#questionlistfrm').submit();
            // 	});
            // });

        }) //function 닫는 태그

    </script>
</head>

<body>
    <include-html target="..\base\header.php" completed="headerCompleted"></include-html>

    <div id="book_test">

        <h1>인생 책 찾기 테스트</h1>
        <hr>
        <div class="test-wrap">

            <div class="progressBar">
                <div class="bar"></div>
            </div>

            <img img src="..\..\..\public\img\test5.jpg" class="test-img" alt="테스트시작사진1">
            <img img src="..\..\..\public\img\icon_q.png" class="test-img2" alt="질문이미지">


            <div class="wrap">
                <div class="startQuestion">질문들을 통해 당신에게<br> 어울리는 책을 추천해드려요.<br><br>
                    질문은 총 20문항이고<br>소요시간은 약 3분정도 입니다.
                </div>

                <div class="question"></div>

                <ul class="options0">
                    <li><input type="radio" name="op0" id="test1" class="option1" onclick="test('a')">
                        <label for="test1">전체적으로</label>
                    </li>
                    <li><input type="radio" name="op0" id="test2" class="option2" onclick="test('b')">
                        <label for="test2">중요한 부분만</label>
                    </li>
                </ul>

                <ul class="options1">
                    <li><input type="radio" name="op1" id="test3" class="option1" onclick="test('c')">
                        <label for="test3">Yes12이나 말라딘와 같은 책 사이트에 들어간다.</label>
                    </li>
                    <li><input type="radio" name="op1" id="test4" class="option2" onclick="test('d')">
                        <label for="test4">동네도서관이나 학교도서관에 간다.</label>
                    </li>
                </ul>

                <ul class="options2">
                    <li><input type="radio" name="op2" id="test5" class="option1" onclick="">
                        <label for="test5">떡볶이나 먹자</label>
                    </li>
                    <li><input type="radio" name="op2" id="test6" class="option1" onclick="">
                        <label for="test6">다음 시험 때는 같은 결과를 반복하지 않도록 계획을 세운다.</label>
                    </li>
                </ul>

                <ul class="options3">
                    <li><input type="radio" name="op3" id="test7" onclick="">
                        <label for="test7" class="option1">묵묵히 위로를 해준다.</label>
                    </li>
                    <li><input type="radio" name="op3" id="test8" onclick="">
                        <label for="test8" class="option2">무슨 일 있었어?</label>
                    </li>
                </ul>

                <ul class="options4">
                    <li><input type="radio" name="op4" id="test9" onclick="">
                        <label for="test9" class="option1">베네딕트 컴버배치가 나오는 셜록홈즈</label>
                    </li>
                    <li><input type="radio" name="op4" id="test10" onclick="">
                        <label for="test10" class="option2">천둥의 신 토르가 나오는 어벤져스</label>
                    </li>
                </ul>

                <ul class="options5">
                    <li><input type="radio" name="op5" id="test11" onclick="">
                        <label for="test11" class="option1">집에서 잠이나 자자</label>
                    </li>
                    <li><input type="radio" name="op5" id="test12" onclick="">
                        <label for="test12" class="option2">친구들이랑 오랜만에 놀아야지.</label>
                    </li>
                </ul>

                <ul class="options6">
                    <li><input type="radio" name="op6" id="test13" onclick="">
                        <label for="test13" class="option1">구매 후기</label>
                    </li>
                    <li><input type="radio" name="op6" id="test14" onclick="">
                        <label for="test14" class="option2">가성비</label>
                    </li>
                </ul>

                <ul class="options7">
                    <li><input type="radio" name="op7" id="test15" onclick="">
                        <label for="test15" class="option1">눈이 즐거운 그림체지</label>
                    </li>
                    <li><input type="radio" name="op7" id="test16" onclick="">
                        <label for="test16" class="option2">스토리가 탄탄해야해</label>
                    </li>
                </ul>

                <ul class="options8">
                    <li><input type="radio" name="op8" id="test17" onclick="">
                        <label for="test17" class="option1">양이 많은 초코과자 A</label>
                    </li>
                    <li><input type="radio" name="op8" id="test18" onclick="">
                        <label for="test18" class="option2">A보다 더 맛있는 초코과자 B</label>
                    </li>
                </ul>

                <ul class="options9">
                    <li><input type="radio" name="op9" id="test19" onclick="">
                        <label for="test19" class="option1">좋아하는 감독님 작품이니까, 믿고 본다</label>
                    </li>
                    <li><input type="radio" name="op9" id="test20" onclick="">
                        <label for="test20" class="option2">다른 영화를 본다.</label>
                    </li>
                </ul>

                <ul class="options10">
                    <li><input type="radio" name="op10" id="test21" onclick="">
                        <label for="test21" class="option1">책상부터</label>
                    </li>
                    <li><input type="radio" name="op10" id="test22" onclick="">
                        <label for="test22" class="option2">방바닥부터</label>
                    </li>
                </ul>

                <ul class="options11">
                    <li><input type="radio" name="op11" id="test23" onclick="">
                        <label for="test23" class="option1">어떤 엔딩일지 궁금해한다.</label>
                    </li>
                    <li><input type="radio" name="op11" id="test24" onclick="">
                        <label for="test24" class="option2">이게 뭐지? 채널를 돌린다.</label>
                    </li>
                </ul>

                <ul class="options12">
                    <li><input type="radio" name="op12" id="test25" onclick="">
                        <label for="test25" class="option1">오늘 있었던 일을 잊지 않도록 일기 써야지</label>
                    </li>
                    <li><input type="radio" name="op12" id="test26" onclick="">
                        <label for="test26" class="option2">피곤하다, 얼른 씻고 자자</label>
                    </li>
                </ul>

                <ul class="options13">
                    <li><input type="radio" name="op13" id="test27" onclick="">
                        <label for="test27" class="option1">괜찮아? 안 다쳤어?</label>
                    </li>
                    <li><input type="radio" name="op13" id="test28" onclick="">
                        <label for="test28" class="option2">뭐에 걸려서 넘어진거야?</label>
                    </li>
                </ul>

                <ul class="options14">
                    <li><input type="radio" name="op14" id="test29" onclick="">
                        <label for="test29" class="option1">앞으로 쓸 지출들을 계산해본다.</label>
                    </li>
                    <li><input type="radio" name="op14" id="test30" onclick="">
                        <label for="test30" class="option2">사고 싶었던 물건들을 산다.</label>
                    </li>
                </ul>

                <ul class="options15">
                    <li><input type="radio" name="op15" id="test31" onclick="">
                        <label for="test31" class="option1">남 눈치를 많이 보는 것 같아</label>
                    </li>
                    <li><input type="radio" name="op15" id="test32" onclick="">
                        <label for="test32" class="option2">너무 내 생각만 하나?</label>
                    </li>
                </ul>

                <ul class="options16">
                    <li><input type="radio" name="op16" id="test33" onclick="">
                        <label for="test33" class="option1">알 때까지 인터넷 검색을 한다.</label>
                    </li>
                    <li><input type="radio" name="op16" id="test34" onclick="">
                        <label for="test34" class="option2">선생님께 여쭤본다.</label>
                    </li>
                </ul>

                <ul class="options17">
                    <li><input type="radio" name="op17" id="test35" onclick="">
                        <label for="test35" class="option1">감상평</label>
                    </li>
                    <li><input type="radio" name="op17" id="test36" onclick="">
                        <label for="test36" class="option2">줄거리요약</label>
                    </li>
                </ul>

                <ul class="options18">
                    <li><input type="radio" name="op18" id="test37" onclick="">
                        <label for="test37" class="option1">말을 잘 들어주고 공감해주는 사람</label>
                    </li>
                    <li><input type="radio" name="op18" id="test38" onclick="">
                        <label for="test38" class="option2">현실적인 조언을 해주는 사람</label>
                    </li>
                </ul>

                <ul class="options19">
                    <li><input type="radio" name="op19" id="test39" onclick="">
                        <label for="test39" class="option1">배달 앱을 본다</label>
                    </li>
                    <li><input type="radio" name="op19" id="test40" onclick="">
                        <label for="test40" class="option2">얼마 전에 집 앞에 생긴 치킨집에서 치킨을 산다.</label>
                    </li>
                </ul>
            </div>

            <button class="startbtn">시작하기</button>

            <div class="arrow">
                <div class='editbtn' style="display:none;"><img src=" ../../../public/img/arrow_left.png"
                        class='arrow_left'>
                </div>
                <div class='editbtn' style="display:none;"><img src=" ../../../public/img/arrow_right.png"
                        class='arrow_right'>
                </div>
            </div>
        </div>

    </div>
    <include-html target="..\base\footer.html" completed="footerCompleted"></include-html>

    <script>includeHtml();

        const result = [];
        test = (num) => {
            result.push(num);

            for (let i = 0; i < result.length; i++) {
                console.log(result[i]);
            }

        }

        test();

    </script>
</body>

</html>